<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" media="all" href="../docs.css">
        <title>Editorially Utility Functions</title>
    </head>
<body>
    <header>
        <h1 id="editoria11y-demo">Editoria11y Utility Functions</h1>
    </header>
    <main>
               
        <section id="overflow">

            <h2>Overflow</h2>
            <div class="positive" style="width: 1em; height: 1em; overflow: hidden;">
                <h4 style="background: silver; padding: 1em; font-size: 14px;">This editor-only utility heading will be skipped in the outline</h3>
            </div>
            
            
        </section>
        
        <section id="Exclusions">

            <h2>Exclusions</h2>
            <div class="utility">
                <h4 style="background: silver; padding: 1em; font-size: 14px;">This editor-only utility heading will be skipped in the outline</h3>
            </div>

            <h3>Aria:hidden image</h3>
            <div class="negative"><div aria-hidden="true">
                <img alt="" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 240 120'%3E%3Crect width='240' height='120' fill='%23cccccc'%3E%3C/rect%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='monospace' font-size='26px' fill='%23333333'%3EImage%3C/text%3E%3C/svg%3E" >
            </div></div>

            <div class="positive"><h4 id="a-very-long-heading">Suspiciously long heading. Headings should not be used for emphasis, but rather for a document outline, so if you find yourself talking this much, this probably is being used for visual formatting, not a heading.</h4>
            </div>
        </section>
        
        <section id="Hidden tips">

            
            
            <h2 id="hiding-tests">Hidden element handlers</h2>

            <h3>Display:none</h3>
            <div class="positive"><div style="display: none;"><h6 id="this-h6-should-have-been-an-h3">Skipped heading level</h6></div></div>

            <h3>Visibility:hidden</h3>
            <div class="positive"><div style="visibility: hidden;"><h6 id="this-h6-should-have-been-an-h3">Skipped heading level</h6></div></div>

            <h3>Aria:hidden text</h3>
            <div class="positive"><div style="visibility: hidden;"><h6 id="this-h6-should-have-been-an-h3">Skipped heading level</h6></div></div>

            <h3>HTML hidden attribute</h3>
            <div class="positive"><div hidden><h6 id="this-h6-should-have-been-an-h3">Skipped heading level</h6></div></div>

        </section>

        <div hidden>
            <link href="./tests.css" rel="stylesheet">
            <script src="../js/ed11y-localization.js"></script>
            <script src="../js/ed11y-element-panel.js"></script>
            <script src="../js/ed11y-element-result.js"></script>
            <script src="../js/ed11y-element-alt.js"></script>
            <script src="../js/ed11y-test-links.js"></script>
            <script src="../js/ed11y-test-images.js"></script>
            <script src="../js/ed11y-test-headings.js"></script>
            <script src="../js/ed11y-test-text.js"></script>
            <script src="../js/ed11y-test-embeds.js"></script>
            <script src="../js/ed11y.js"></script>
            <!-- Instantiate-->
            <script>
                document.addEventListener('ed11yShowHidden', function(e) {
                    console.log('Event dispatched: ed11yShowHidden for #' + e.detail.id);
                    let pop = document.querySelector(`#${e.detail.id}`);
                    pop.closest('[hidden]')?.removeAttribute('hidden');
                }, false);
                const ed11y = new Ed11y({
                    alertMode : 'assertive',
                    ignoreByKey : {
                        'h' : '.utility *',
                        'img': '[aria-hidden], [aria-hidden] img', // disable alt text tests on aria-hidden images by default
                        'a': '[aria-hidden][tabindex]', // disable link text check on properly disabled links
                    },
                    shadowComponents : 'shadow-test, shadow-test-no-hits', 
                    hiddenHandlers : '[hidden]',
                    checkRoots : 'body', 
                });
            </script>
            
        </div>
    </main>




</body>

</html>